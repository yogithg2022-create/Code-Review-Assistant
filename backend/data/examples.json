{
  "version": "1.0.0",
  "examples": [
    {
      "id": "example_001",
      "title": "Beginner Code with Common Mistakes",
      "language": "javascript",
      "difficulty": "beginner",
      "description": "A simple function with multiple beginner mistakes including var usage, poor naming, and missing error handling",
      "code": "var x = 10;\nvar y = 20;\n\nfunction calc(a, b) {\n    var result = a + b;\n    console.log(result);\n    return result;\n}\n\nfunction getData() {\n    fetch('https://api.example.com/data')\n        .then(response => response.json())\n        .then(data => {\n            console.log(data);\n        });\n}\n\nvar arr = [1, 2, 3, 4, 5];\nfor (var i = 0; i < arr.length; i++) {\n    console.log(arr[i]);\n}",
      "expectedIssues": [
        "var usage (should use const/let)",
        "Poor variable names (x, y, a, b)",
        "console.log in production code",
        "No error handling in fetch",
        "Missing semicolons in some places"
      ],
      "improvedVersion": "const firstNumber = 10;\nconst secondNumber = 20;\n\nfunction calculateSum(num1, num2) {\n    const result = num1 + num2;\n    return result;\n}\n\nasync function getData() {\n    try {\n        const response = await fetch('https://api.example.com/data');\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error('Failed to fetch data:', error);\n        throw error;\n    }\n}\n\nconst numbers = [1, 2, 3, 4, 5];\nnumbers.forEach(number => {\n    console.log(number);\n});"
    },
    {
      "id": "example_002",
      "title": "Function with Too Many Parameters",
      "language": "javascript",
      "difficulty": "beginner",
      "description": "A function with too many parameters that should use an options object",
      "code": "function createUser(name, email, age, address, phone, city, country, zipCode) {\n    console.log('Creating user...');\n    var user = {\n        name: name,\n        email: email,\n        age: age,\n        address: address,\n        phone: phone,\n        city: city,\n        country: country,\n        zipCode: zipCode\n    };\n    return user;\n}\n\nvar newUser = createUser('John', 'john@example.com', 30, '123 Main St', '555-1234', 'New York', 'USA', '10001');",
      "expectedIssues": [
        "Too many function parameters",
        "var usage",
        "console.log in production",
        "Repetitive object property assignment"
      ],
      "improvedVersion": "function createUser({ name, email, age, address, phone, city, country, zipCode }) {\n    return {\n        name,\n        email,\n        age,\n        address,\n        phone,\n        city,\n        country,\n        zipCode\n    };\n}\n\nconst newUser = createUser({\n    name: 'John',\n    email: 'john@example.com',\n    age: 30,\n    address: '123 Main St',\n    phone: '555-1234',\n    city: 'New York',\n    country: 'USA',\n    zipCode: '10001'\n});"
    },
    {
      "id": "example_003",
      "title": "Deep Nesting and Code Smells",
      "language": "javascript",
      "difficulty": "intermediate",
      "description": "Code with deep nesting, repeated logic, and poor structure",
      "code": "function processOrder(order) {\n    if (order) {\n        if (order.items) {\n            if (order.items.length > 0) {\n                if (order.customer) {\n                    if (order.customer.address) {\n                        if (order.customer.address.zipCode) {\n                            console.log('Processing order...');\n                            var total = 0;\n                            for (var i = 0; i < order.items.length; i++) {\n                                total = total + order.items[i].price;\n                            }\n                            if (total > 100) {\n                                total = total - (total * 0.1);\n                            }\n                            return total;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return 0;\n}",
      "expectedIssues": [
        "Deep nesting (6+ levels)",
        "var usage",
        "console.log statement",
        "Poor error handling",
        "Magic numbers (100, 0.1)"
      ],
      "improvedVersion": "function processOrder(order) {\n    if (!order?.items?.length) return 0;\n    if (!order.customer?.address?.zipCode) return 0;\n    \n    const DISCOUNT_THRESHOLD = 100;\n    const DISCOUNT_RATE = 0.1;\n    \n    const total = order.items.reduce((sum, item) => sum + item.price, 0);\n    \n    if (total > DISCOUNT_THRESHOLD) {\n        return total * (1 - DISCOUNT_RATE);\n    }\n    \n    return total;\n}"
    },
    {
      "id": "example_004",
      "title": "Callback Hell Example",
      "language": "javascript",
      "difficulty": "intermediate",
      "description": "Nested callbacks that should be converted to async/await",
      "code": "function getUserData(userId) {\n    fetch('/api/users/' + userId)\n        .then(function(response) {\n            return response.json();\n        })\n        .then(function(user) {\n            fetch('/api/posts?userId=' + user.id)\n                .then(function(response) {\n                    return response.json();\n                })\n                .then(function(posts) {\n                    fetch('/api/comments?userId=' + user.id)\n                        .then(function(response) {\n                            return response.json();\n                        })\n                        .then(function(comments) {\n                            console.log('User:', user);\n                            console.log('Posts:', posts);\n                            console.log('Comments:', comments);\n                        });\n                });\n        });\n}",
      "expectedIssues": [
        "Callback hell / nested promises",
        "String concatenation instead of template literals",
        "No error handling",
        "console.log statements",
        "Not using arrow functions"
      ],
      "improvedVersion": "async function getUserData(userId) {\n    try {\n        const userResponse = await fetch(`/api/users/${userId}`);\n        const user = await userResponse.json();\n        \n        const postsResponse = await fetch(`/api/posts?userId=${user.id}`);\n        const posts = await postsResponse.json();\n        \n        const commentsResponse = await fetch(`/api/comments?userId=${user.id}`);\n        const comments = await commentsResponse.json();\n        \n        return { user, posts, comments };\n    } catch (error) {\n        console.error('Failed to fetch user data:', error);\n        throw error;\n    }\n}"
    },
    {
      "id": "example_005",
      "title": "Poor Variable Naming and Type Coercion",
      "language": "javascript",
      "difficulty": "beginner",
      "description": "Code with unclear variable names and loose equality checks",
      "code": "function check(x) {\n    var a = x;\n    var b = '0';\n    \n    if (a == b) {\n        console.log('equal');\n        return true;\n    }\n    \n    var c = 100;\n    var d = a + c;\n    \n    if (d > 50) {\n        console.log('big');\n        return true;\n    }\n    \n    return false;\n}",
      "expectedIssues": [
        "Single-letter variable names",
        "Loose equality (==)",
        "var usage",
        "Poor function name",
        "console.log statements",
        "Magic numbers"
      ],
      "improvedVersion": "function isValueAboveThreshold(inputValue) {\n    const normalizedValue = inputValue;\n    const comparisonString = '0';\n    \n    if (normalizedValue === comparisonString) {\n        return true;\n    }\n    \n    const BONUS_POINTS = 100;\n    const THRESHOLD = 50;\n    const totalValue = normalizedValue + BONUS_POINTS;\n    \n    return totalValue > THRESHOLD;\n}"
    },
    {
      "id": "example_006",
      "title": "Duplicate Code and Missing Abstractions",
      "language": "javascript",
      "difficulty": "intermediate",
      "description": "Repeated validation logic that should be extracted",
      "code": "function validateEmail(email) {\n    if (!email) {\n        console.log('Email is required');\n        return false;\n    }\n    if (email.length < 5) {\n        console.log('Email too short');\n        return false;\n    }\n    if (!email.includes('@')) {\n        console.log('Invalid email format');\n        return false;\n    }\n    return true;\n}\n\nfunction validateUsername(username) {\n    if (!username) {\n        console.log('Username is required');\n        return false;\n    }\n    if (username.length < 3) {\n        console.log('Username too short');\n        return false;\n    }\n    if (username.length > 20) {\n        console.log('Username too long');\n        return false;\n    }\n    return true;\n}\n\nfunction validatePassword(password) {\n    if (!password) {\n        console.log('Password is required');\n        return false;\n    }\n    if (password.length < 8) {\n        console.log('Password too short');\n        return false;\n    }\n    if (!password.match(/[A-Z]/)) {\n        console.log('Password needs uppercase');\n        return false;\n    }\n    return true;\n}",
      "expectedIssues": [
        "Duplicate validation pattern",
        "console.log for error reporting",
        "Magic numbers",
        "Could be abstracted into a reusable validator"
      ],
      "improvedVersion": "const ValidationError = (field, message) => ({ field, message });\n\nfunction validateField(value, rules) {\n    const errors = [];\n    \n    if (rules.required && !value) {\n        errors.push(ValidationError(rules.name, `${rules.name} is required`));\n    }\n    \n    if (rules.minLength && value.length < rules.minLength) {\n        errors.push(ValidationError(rules.name, `${rules.name} must be at least ${rules.minLength} characters`));\n    }\n    \n    if (rules.maxLength && value.length > rules.maxLength) {\n        errors.push(ValidationError(rules.name, `${rules.name} must be less than ${rules.maxLength} characters`));\n    }\n    \n    if (rules.pattern && !rules.pattern.test(value)) {\n        errors.push(ValidationError(rules.name, rules.patternMessage));\n    }\n    \n    return errors;\n}\n\nconst emailRules = {\n    name: 'Email',\n    required: true,\n    minLength: 5,\n    pattern: /@/,\n    patternMessage: 'Invalid email format'\n};\n\nconst usernameRules = {\n    name: 'Username',\n    required: true,\n    minLength: 3,\n    maxLength: 20\n};\n\nconst passwordRules = {\n    name: 'Password',\n    required: true,\n    minLength: 8,\n    pattern: /[A-Z]/,\n    patternMessage: 'Password needs an uppercase letter'\n};"
    },
    {
      "id": "example_007",
      "title": "Simple Todo List - Good Starter Example",
      "language": "javascript",
      "difficulty": "beginner",
      "description": "A clean, simple todo list implementation to demonstrate good practices",
      "code": "const TODO_STORAGE_KEY = 'todos';\n\nclass TodoList {\n    constructor() {\n        this.todos = this.loadTodos();\n    }\n    \n    loadTodos() {\n        try {\n            const stored = localStorage.getItem(TODO_STORAGE_KEY);\n            return stored ? JSON.parse(stored) : [];\n        } catch (error) {\n            console.error('Failed to load todos:', error);\n            return [];\n        }\n    }\n    \n    saveTodos() {\n        try {\n            localStorage.setItem(TODO_STORAGE_KEY, JSON.stringify(this.todos));\n        } catch (error) {\n            console.error('Failed to save todos:', error);\n        }\n    }\n    \n    addTodo(text) {\n        if (!text?.trim()) {\n            throw new Error('Todo text cannot be empty');\n        }\n        \n        const todo = {\n            id: Date.now(),\n            text: text.trim(),\n            completed: false,\n            createdAt: new Date().toISOString()\n        };\n        \n        this.todos.push(todo);\n        this.saveTodos();\n        return todo;\n    }\n    \n    toggleTodo(id) {\n        const todo = this.todos.find(t => t.id === id);\n        if (todo) {\n            todo.completed = !todo.completed;\n            this.saveTodos();\n        }\n    }\n    \n    deleteTodo(id) {\n        this.todos = this.todos.filter(t => t.id !== id);\n        this.saveTodos();\n    }\n    \n    getTodos() {\n        return [...this.todos];\n    }\n}",
      "expectedIssues": [],
      "note": "This is a good example with proper naming, error handling, and structure"
    },
    {
      "id": "example_008",
      "title": "API Call with All Common Mistakes",
      "language": "javascript",
      "difficulty": "intermediate",
      "description": "API integration code showing multiple bad practices",
      "code": "var apiUrl = 'https://api.example.com';\n\nfunction fetchUser(id) {\n    var url = apiUrl + '/users/' + id;\n    \n    fetch(url).then(function(response) {\n        return response.json();\n    }).then(function(data) {\n        console.log(data);\n        var name = data.name;\n        var email = data.email;\n        var age = data.age;\n        \n        document.getElementById('name').innerHTML = name;\n        document.getElementById('email').innerHTML = email;\n        document.getElementById('age').innerHTML = age;\n    });\n}\n\nfunction updateUser(id, name, email, age, address, phone) {\n    var url = apiUrl + '/users/' + id;\n    var data = {\n        name: name,\n        email: email,\n        age: age,\n        address: address,\n        phone: phone\n    };\n    \n    fetch(url, {\n        method: 'PUT',\n        body: JSON.stringify(data)\n    }).then(function(response) {\n        console.log('Updated!');\n    });\n}",
      "expectedIssues": [
        "var usage",
        "No error handling",
        "Hardcoded API URL",
        "String concatenation",
        "console.log statements",
        "Too many function parameters",
        "Direct DOM manipulation without checks",
        "innerHTML without sanitization",
        "No response validation"
      ],
      "improvedVersion": "const API_CONFIG = {\n    baseUrl: process.env.API_URL || 'https://api.example.com',\n    timeout: 5000\n};\n\nasync function fetchUser(userId) {\n    try {\n        const response = await fetch(`${API_CONFIG.baseUrl}/users/${userId}`);\n        \n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        \n        const userData = await response.json();\n        return userData;\n    } catch (error) {\n        console.error('Failed to fetch user:', error);\n        throw error;\n    }\n}\n\nfunction displayUser(userData) {\n    const elements = {\n        name: document.getElementById('name'),\n        email: document.getElementById('email'),\n        age: document.getElementById('age')\n    };\n    \n    if (elements.name) elements.name.textContent = userData.name;\n    if (elements.email) elements.email.textContent = userData.email;\n    if (elements.age) elements.age.textContent = userData.age;\n}\n\nasync function updateUser(userId, updates) {\n    try {\n        const response = await fetch(`${API_CONFIG.baseUrl}/users/${userId}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(updates)\n        });\n        \n        if (!response.ok) {\n            throw new Error(`Update failed: ${response.status}`);\n        }\n        \n        return await response.json();\n    } catch (error) {\n        console.error('Failed to update user:', error);\n        throw error;\n    }\n}"
    }
  ],
  "quickTestCases": [
    {
      "name": "Simple function",
      "code": "function add(x, y) {\n    var result = x + y;\n    console.log(result);\n    return result;\n}"
    },
    {
      "name": "Loop with var",
      "code": "for (var i = 0; i < 10; i++) {\n    console.log(i);\n}"
    },
    {
      "name": "Nested ifs",
      "code": "if (user) {\n    if (user.name) {\n        if (user.age > 18) {\n            console.log('Adult user');\n        }\n    }\n}"
    },
    {
      "name": "Poor naming",
      "code": "let x = 5;\nlet y = 10;\nlet z = x + y;"
    }
  ]
}